<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>BuckSkylarkTypes (Buck)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BuckSkylarkTypes (Buck)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.MutableObjectException.html" title="class in com.facebook.buck.core.starlark.compatible"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html" target="_top">Frames</a></li>
<li><a href="BuckSkylarkTypes.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.buck.core.starlark.compatible</div>
<h2 title="Class BuckSkylarkTypes" class="title">Class BuckSkylarkTypes</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.facebook.buck.core.starlark.compatible.BuckSkylarkTypes</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">BuckSkylarkTypes</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Container class for helper methods having to deal with Skylark types. e.g. list or map conversion
 utilities that supplement the built in helpers.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.MutableObjectException.html" title="class in com.facebook.buck.core.starlark.compatible">BuckSkylarkTypes.MutableObjectException</a></span></code>
<div class="block">Thrown when trying to construct an Immutable Skylark object from a Mutable one (that cannot be
 made immutable.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html#asDeepImmutable-java.lang.Object-">asDeepImmutable</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;arg)</code>
<div class="block">Attempt to get a deeply immutable instance of a value passed in from Skylark</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html#skylarkValueFromNullable-java.lang.Object-">skylarkValueFromNullable</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;NonWildcardType,DestType extends NonWildcardType&gt;<br>com.google.common.collect.ImmutableList&lt;DestType&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html#toJavaList-com.google.devtools.build.lib.syntax.SkylarkList-java.lang.Class-java.lang.String-">toJavaList</a></span>(com.google.devtools.build.lib.syntax.SkylarkList&lt;?&gt;&nbsp;list,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;NonWildcardType&gt;&nbsp;elementClass,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)</code>
<div class="block">Validate that all objects are of a given type and return an <code>ImmutableList</code> containing
 those objects.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html#validateKwargName-com.google.devtools.build.lib.events.Location-java.lang.String-">validateKwargName</a></span>(com.google.devtools.build.lib.events.Location&nbsp;location,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;kwarg)</code>
<div class="block">Ensure that a name is a valid kwarg/field identifier</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toJavaList-com.google.devtools.build.lib.syntax.SkylarkList-java.lang.Class-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toJavaList</h4>
<pre>public static&nbsp;&lt;NonWildcardType,DestType extends NonWildcardType&gt;&nbsp;com.google.common.collect.ImmutableList&lt;DestType&gt;&nbsp;toJavaList(com.google.devtools.build.lib.syntax.SkylarkList&lt;?&gt;&nbsp;list,
                                                                                                                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;NonWildcardType&gt;&nbsp;elementClass,
                                                                                                                              <a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                                                                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)
                                                                                                                       throws com.google.devtools.build.lib.syntax.EvalException</pre>
<div class="block">Validate that all objects are of a given type and return an <code>ImmutableList</code> containing
 those objects.

 <p>This is a workaround for <code>SkylarkList.getContents(Class, String)</code> being unable to
 handle generic types correctly. e.g. it is currently impossible to do:

 <pre><code>
 SkylarkList&lt;?&gt; skyList = // Provided by user
 // Works, but compiler complains because Provider is not specialized
 ImmutableList&lt;Provider&gt; providers = skyList.getContents(Provider.class, null));
 // Does not work because Provider.class != the class of Provider&lt;?&gt;
 ImmutableList&lt;Provider&lt;?&gt;&gt; providers = skyList.getContents(Provider.class, null));
 </code></pre>

 This function makes the following usage possible

 <pre><code>
 SkylarkList&lt;?&gt; skyList = // Provided by user
 ImmutableList&lt;Provider&lt;?&gt;&gt; providers = BuckSkylarkTypes.toJavaList(skyList, Provider.class, null));
 </code></pre>

 This function wraps a dirty type cast up and tries to apply some basic type boundaries to
 reduce the likelihood of creating a foot gun.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>NonWildcardType</code> - The non-wildcard type. e.g. <code>Provider.class</code></dd>
<dd><code>DestType</code> - The type of the elements in the resulting container. This can be either the
     same as <code>NonWildcardType</code>, or a generic type like <code>Provider&lt;?&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>list</code> - The list of objects to validate</dd>
<dd><code>elementClass</code> - The non-wildcard version of the desired final class</dd>
<dd><code>description</code> - a description of the argument being converted, or null, for debugging</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of <code>DestType</code>. This is immutable because we do some type casting under the
     hood, and do not want any assumptions to be made about the backing store of the container,
     nor do we want users to assume they can safely insert into that list.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.google.devtools.build.lib.syntax.EvalException</code> - If one of the elements was not of the type specified in <code>elementClass</code></dd>
</dl>
</li>
</ul>
<a name="asDeepImmutable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asDeepImmutable</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;asDeepImmutable(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;arg)
                              throws <a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.MutableObjectException.html" title="class in com.facebook.buck.core.starlark.compatible">BuckSkylarkTypes.MutableObjectException</a></pre>
<div class="block">Attempt to get a deeply immutable instance of a value passed in from Skylark

 <p>Note that if mutable objects are passed in (namely <code>SkylarkList</code> or <code>SkylarkDict</code>, a copy may be made to get an immutable instance. This may happen in very deeply
 nested structures, so the runtime is variable based on how mutable the objects are. For the
 best performance, only immutable structures should be passed in, as that turns into a simple
 identity function.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arg</code> - A value from the skylark interpreter. This should only be primitive objects, or
     <code>SkylarkValue</code> instances</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><li>The original object if it was already an immutable <code>SkylarkValue</code> or a primitive value
     <li>an immutable <code>SkylarkList</code> if the original object is a <code>SkylarkList</code> and
         all values were immutable or could be made immutable. As above, this may be a copy, or
         inner elements may have had to be copied if they were mutable
     <li>An immutable <code>SkylarkDict</code> if the original object is a <code>SkylarkDict</code> and
         all keys and values were immutable, or could be made so. Again, note that copies may be
         made in order to make mutable objects immutable</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.MutableObjectException.html" title="class in com.facebook.buck.core.starlark.compatible">BuckSkylarkTypes.MutableObjectException</a></code> - If a nested or top level object was mutable, and could not be
     made immutable. This generally only applies to incorrectly implemented native data types
     that are exported to Skylark.</dd>
</dl>
</li>
</ul>
<a name="validateKwargName-com.google.devtools.build.lib.events.Location-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateKwargName</h4>
<pre>public static&nbsp;void&nbsp;validateKwargName(com.google.devtools.build.lib.events.Location&nbsp;location,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;kwarg)
                              throws com.google.devtools.build.lib.syntax.EvalException</pre>
<div class="block">Ensure that a name is a valid kwarg/field identifier

 <p>This is useful as Skylark does not validate these by default when creating a signature</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>location</code> - location of the kwarg currently being evaluated</dd>
<dd><code>kwarg</code> - the name of a kwarg / field</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.google.devtools.build.lib.syntax.EvalException</code></dd>
</dl>
</li>
</ul>
<a name="skylarkValueFromNullable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>skylarkValueFromNullable</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;skylarkValueFromNullable(<a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>None</code> if <code>object</code> is <code>null</code>, else return <code>object</code>. This is
     just a central place ot make sure things we return from internal implementations into
     Skylark are properly turned into None</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.MutableObjectException.html" title="class in com.facebook.buck.core.starlark.compatible"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/facebook/buck/core/starlark/compatible/BuckSkylarkTypes.html" target="_top">Frames</a></li>
<li><a href="BuckSkylarkTypes.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
